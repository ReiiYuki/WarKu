<!DOCTYPE html>
    <html>
      <head>
        <meta charset="utf-8">
        <script src="socket.io-client/socket.io.js"></script>
        <link rel="stylesheet" href="bootstrap-3.3.6-dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="main.css">
        <script src="jquery-2.2.3.min.js"></script>
        <title>WarKu!</title>
      </head>
      <body>
        <!--Connect to socket.io -->
        <script type="text/javascript">
          var socket = io.connect('http://localhost:5555');
          $('#login-page').hide();
          $('#regis-page').hide();
        </script>

        <!--Heading with logo -->
        <div class="logo-image">
            <div class = "row row-centered">
                <div class="col-centered">
                <img src = "picture/logo.png" alt="image-logo" class = "logo">
                </div>
            </div>
        </div>

        <!--login page-->
        <div class="container" id="login-page">
                <div class="row row-centered">
                <!--Input username box-->
                  <div class="col-lg-4 col-md-4 col-xs-4 col-sm-4 col-centered">
                      <input type="text" class="form-control" id="login-username" placeholder="Username">
                  </div>
                </div>
                <!--Input password box-->
                <div class="row row-centered">
                  <div class="col-lg-4 col-md-4 col-xs-4 col-sm-4 col-centered">
                      <input type="password" class="form-control" id="login-password" placeholder="Password">
                  </div>
                </div>
                <!--Button panel-->
                <div class="row row-centered">
                  <!--Login Button-->
                  <div class="col-lg-1 col-md-1 col-xs-1 col-sm-1 col-centered">
                    <button type="button" class="btn btn-primary" id="login-btn">Login</button>
                  </div>
                  <!--Register Button-->
                    <div class="col-lg-1 col-md-1 col-xs-1 col-sm-1 col-centered">
                      <button type="button" class="btn btn-primary" id="login-register-btn">Register</button>
                    </div>
                </div>
        </div>

        <!--register page-->
        <div class="container" id="regis-page">

                      <!--Input username box-->
                    <div class="row row-centered">
                        <div class="col-lg-4 col-md-4 col-xs-4 col-sm-4 col-centered">
                            <input type="text" class="form-control" id="regis-username" placeholder="Username">
                        </div>
                    </div>
                      <!--Input password box-->
                      <div class="row row-centered">
                        <div class="col-lg-4 col-md-4 col-xs-4 col-sm-4 col-centered">
                            <input type="password" class="form-control" id="regis-password" placeholder="Password">
                        </div>
                      </div>
                      <!--Input email box-->
                      <div class="row row-centered">
                        <div class="col-lg-4 col-md-4 col-xs-4 col-sm-4 col-centered">
                            <input type="email" class="form-control" id="regis-email" placeholder="E-mail">
                        </div>
                      </div>
                      <!--Button panel-->
                      <div class="row row-centered">
                        <!--register Button-->
                        <div class="col-lg-1 col-md-1 col-xs-1 col-sm-1 col-centered">
                          <button type="button" class="btn btn-primary" id="regis-btn">Register</button>
                        </div>
                      </div>

        </div>


          <!-- ActionListener for Login-btn and login-register-btn -->
          <script type="text/javascript">
            /** Function to login **/
            function login(){
              socket.emit('login',{"username":$('#login-username').val(),"password":$('#login-password').val()});
              socket.on('login-status',function(status) {
                if (status) console.log('success');
                else {
                  $('#login-username').addClass('has-error');
                  $('#login-username').attr('placeholder','Invalid Username or Password');
                  $('#login-password').addClass('has-error');
                  $('#login-password').attr('placeholder','Invalid Username or Password');
                }
              });
              socket.emit('resource-request');
              socket.on('resource-data',function(resource) {
                console.log(JSON.stringify(resource));
              })
            }
            /** Function to go to register page **/
            function goToRegisterPage() {
              $('#login-page').fadeOut();
              $('#regis-page').fadeIn();
            }
            $('#login-page').fadeIn();
            /** set function to button **/
            $('#login-btn').click(login);
            $('#login-register-btn').click(goToRegisterPage);
          </script>

         <!-- ActionListener for regis button -->
                  <script type="text/javascript">
                    function regis(){
                      socket.emit('register',{'username' : $('#regis-username').val(), 'password' : $('#regis-password').val(), 'email' : $('#regis-email').val()});
                      socket.on('register-status',function(status) {
                        if (status){
                          console.log('Regis Success');
                          $('#regis-page').fadeOut();
                          $('#login-page').fadeIn();
                        }else {
                          console.log('NOOOO');
                        }
                      });
                    }
                    $('#regis-btn').click(regis);
                  </script>

         <!-- Initialize -->
            <script type="text/javascript">
                function init(){
                    $('#regis-page').hide();
                }
                init();
        </script>
    </body>
</html>
