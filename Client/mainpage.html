<!DOCTYE html>
<html>
    <head>
        <meta charset="utf-8">
        <script src="socket.io-client/socket.io.js"></script>
        <link rel="stylesheet" href="bootstrap-3.3.6-dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="main.css">
        <link rel="stylesheet" href="clay.css">
        <link rel="stylesheet" href="iron.css">
        <link rel="stylesheet" href="tree.css">
        <link rel="stylesheet" href="crop.css">
        <link rel="stylesheet" href="circlelevel.css">
        <script src="jquery-2.2.3.min.js"></script>
        <title>WarKu!</title>
    </head>
    <body>
        <!--Connect to socket.io -->
            <script type="text/javascript">
              var socket = io.connect('http://localhost:5555');
            </script>
        
        <!--Navbar menu-->
        <nav class="navbar navbar-inverse navbar-fixed-top">
            <div class="container-fluid">
                

                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="#">Account</a></li>
                        <li><a href="#">Setting</a></li>
                        <li><a href="#" id="logout-btn">Logout</a></li>
                    </ul>
                </div><!-- /.navbar-collapse -->
            </div><!-- /.container-fluid -->
        </nav>
        
        <div class="menu-padding"></div>
        <!--menu-->
        <div class="menu-frame">
           <nav>
              <ul class="row-centered">
                <!--menu resource-->
                <li class="menu-li"><div class="menu" id="resource_menu">
                    <a href="#">
                    <img class="menu_img" src="picture/resource.png">
                    </a>
                    </div>
                </li>
                <!--menu village-->
                <li class="menu-li"><div class="menu" id="village_menu">
                    <a href="#">
                    <img class="menu_img" src="picture/village.png">
                    </a>
                    </div>
                </li>
                <!--menu map-->
                <li class="menu-li"><div class="menu" id="map_menu">
                    <a href="#">
                    <img class="menu_img" src="picture/map.png">
                    </a>
                    </div>
                </li>
                <!--menu report-->
                <li><div class="menu" id="report_menu">
                    <a href="#">
                    <img class="menu_img" src="picture/report.png">
                    </a>
                    </div>
                </li>
                <!--menu mail-->
                <li class="menu-li"><div class="menu" id="mail_menu">
                    <a href="#">
                    <img class="menu_img" src="picture/mail.png">
                    </a>
                    </div>
                </li>
               </ul>
            </nav>
        </div>
        <div class="menu-frame">
        <nav>
            <ul class="row-centered">
                <!--menu mail-->
                <li class="menu-li"><div class="menu" id="statistic_menu">
                    <a href="#">
                    <img class="menu_img" src="picture/statistic.png">
                    </a>
                    </div>
                </li>
               
            </ul>
        </nav>
        </div>
        <!--resource container-->
        <div class ="container" id="resource_container">
            <span class="Centerer"></span>
            <div class="resoucre">
                
                
            <image src="picture/resource-structure-test.png"></image>
                
                  <!--resource 1-16-->  
                
                <div class="resource-box1">
                  <image id="resource1"></image>
                  <image id="resource1-label" class="level1"></image>
                </div>
                
                <div class="resource-box2">
                  <image id="resource2">
                  <image id="resource2-label" class="level1"></image>
                  </image>
                </div>
                
                <div class="resource-box8">
                    <image id="resource8">
                        <image id="resource8-label" class="level1"></image>
                    </image>
                </div> 

                <div class="resource-box9">
                    <image id="resource9">
                        <image id="resource9-label" class="level1"></image>
                    </image>
                </div>
                
                <div class="resource-box16">
                    <image id="resource16"></image>
                    <image id="resource16-label" class="level1"></image>
                </div>
                
                <div class="resource-box10">
                    <image id="resource10">
                        <image id="resource10-label" class="level1"></image>
                    </image>
                </div>
                
                <div class="resource-box15">
                    <image id="resource15"></image>
                    <image id="resource15-label" class="level1"></image>
                </div>
                
                <div class="resource-box14">
                    <image id="resource14"></image>
                    <image id="resource14-label" class="level1"></image>
                </div>
                
                <div class="resource-box11">
                    <image id="resource11"></image>
                    <image id="resource11-label" class="level1"></image>
                </div>

                <div class="resource-box12">
                    <image id="resource12"></image>
                    <image id="resource12-label" class="level1"></image>
                </div>

                <div class="resource-box13">
                    <image id="resource13"></image>
                    <image id="resource13-label" class="level1"></image>
                </div>

                <div class="resource-box3">
                  <image id="resource3">
                  <image id="resource3-label" class="level1"></image>
                  </image>
                </div>
                
                <div class="resource-box7">
                    <image id="resource7">
                        <image id="resource7-label" class="level1"></image>
                    </image>
                </div>  
                
                <div class="resource-box6">
                    <image id="resource6">
                        <image id="resource6-label" class="level1"></image>
                    </image>
                </div>
                
                <div class="resource-box5">
                    <image id="resource5">
                        <image id="resource5-label" class="level1"></image>
                    </image>
                </div>

                <div class="resource-box4">
                  <image id="resource4">
                  <image id="resource4-label" class="level1"></image>
                  </image>
                </div>                      
                
            </div>
            
        </div>
        
        <!--village container-->
        <div class ="container" id="village_container">
            <span class="Centerer"></span>
            <div class="village">
                <image src="picture/village.png"></image>
            </div>
            <div class="resource1">
                <image id="resource_pos1"></image>
            </div>
        </div>
        
        <!--village container-->
        <div class ="container" id="map_container">
            <span class="Centerer"></span>
            <div class="village">
                <image src="picture/map.png"></image>
            </div>
            <div class="resource1">
                <image id="resource_pos1"></image>
            </div>
        </div>
        
        <!--village container-->
        <div class ="container" id="report_container">
            <span class="Centerer"></span>
            <div class="village">
                <image src="picture/report.png"></image>
            </div>
            <div class="resource1">
                <image id="resource_pos1"></image>
            </div>
        </div>
        
        <!--village container-->
        <div class ="container" id="mail_container">
            <span class="Centerer"></span>
            <div class="village">
                <image src="picture/mail.png"></image>
            </div>
            <div class="resource1">
                <image id="resource_pos1"></image>
            </div>
        </div>
        
        <!--village container-->
        <div class ="container" id="statistic_container">
            <span class="Centerer"></span>
            <div class="village">
                <image src="picture/statistic.png"></image>
            </div>
            <div class="resource1">
                <image id="resource_pos1"></image>
            </div>
        </div>
        
        
       <!-- Initialize -->
        <script type="text/javascript">
            function init(){
                $('#resource_container').hide();
                $('#village_container').hide();
                $('#map_container').hide();
                $('#report_container').hide();
                $('#mail_container').hide();
                $('#statistic_container').hide();
            }
                
            function resourceClick(){
                init();
                var resource;
                $('#resource_container').show(); 
                socket.emit('resource-request');
                socket.on('resource-data',function(result){
                    //console.log(result[0]["type"]);
                     for(var i=0;i<16;i++){
                        document.getElementById("resource"+(i+1)).className = result[i]["type"]+(i+1);
                        document.getElementById("resource"+(i+1)+"-label").className = "level"+(result[i]["level"]);
                     }
                });
                
            }     
        
            function villageClick(){
                init();
                $('#village_container').show(); 
            }
            
            function mapClick(){
                init();
                $('#map_container').show(); 
            }
            
            function reportClick(){
                init();
                $('#report_container').show(); 
            }
            
            function mailClick(){
                init();
                $('#mail_container').show(); 
            }
            
            function statisticClick(){
                init();
                $('#statistic_container').show(); 
            }
            
            function logout(){
                location.assign("http:/Client/index.html");
                //TODO remove user from server
            }
            
            init();
            resourceClick();
            $('#resource_menu').click(resourceClick);
            $('#village_menu').click(villageClick);
            $('#map_menu').click(mapClick);
            $('#report_menu').click(reportClick);
            $('#mail_menu').click(mailClick);
            $('#statistic_menu').click(statisticClick);
            
            $('#logout-btn').click(logout);
        </script>
        
        
    </body>
</html>